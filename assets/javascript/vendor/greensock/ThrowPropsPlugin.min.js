/*!
 * VERSION: 0.9.2
 * DATE: 2014-02-10
 * JavaScript
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2014, GreenSock. All rights reserved.
 * ThrowPropsPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://www.greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("plugins.ThrowPropsPlugin",["plugins.TweenPlugin","TweenLite","easing.Ease","utils.VelocityTracker"],function(t,e,r,n){var i=function(e,r){t.call(this,"throwProps"),this._overwriteProps.length=0},o=999999999999999,s=1e-10,a={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1},c=function(t,e,r,n){for(var i=e.length,s=0,a=o,c,p;--i>-1;)c=e[i],p=c-t,0>p&&(p=-p),a>p&&c>=n&&r>=c&&(s=i,a=p);return e[s]},p=function(t,e,r,n){if("auto"===t.end)return t;r=isNaN(r)?o:r,n=isNaN(n)?-o:n;var i="function"==typeof t.end?t.end(e):t.end instanceof Array?c(e,t.end,r,n):Number(t.end);return i>r?i=r:n>i&&(i=n),{max:i,min:i}},u=i.calculateChange=function(t,n,i,o){null==o&&(o=.05);var s=n instanceof r?n:n?new r(n):e.defaultEase;return i*o*t/s.getRatio(o)},l=i.calculateDuration=function(t,n,i,o,s){s=s||.05;var a=o instanceof r?o:o?new r(o):e.defaultEase;return Math.abs((n-t)*a.getRatio(s)/i/s)},f=i.calculateTweenDuration=function(t,o,a,c,f){if("string"==typeof t&&(t=e.selector(t)),!t)return 0;null==a&&(a=10),null==c&&(c=.2),null==f&&(f=1),t.length&&(t=t[0]||t);var v=0,h=9999999999,g=o.throwProps||o,_=o.ease instanceof r?o.ease:o.ease?new r(o.ease):e.defaultEase,y=isNaN(g.checkpoint)?.05:Number(g.checkpoint),d=isNaN(g.resistance)?i.defaultResistance:Number(g.resistance),m,w,P,k,x,T,b,N,V,O;for(m in g)"resistance"!==m&&"checkpoint"!==m&&"preventOvershoot"!==m&&(w=g[m],"object"!=typeof w&&(V=V||n.getByTarget(t),V&&V.isTrackingProp(m)?w="number"==typeof w?{velocity:w}:{velocity:V.getVelocity(m)}:(k=Number(w)||0,P=k*d>0?k/d:k/-d)),"object"==typeof w&&(void 0!==w.velocity&&"number"==typeof w.velocity?k=Number(w.velocity)||0:(V=V||n.getByTarget(t),k=V&&V.isTrackingProp(m)?V.getVelocity(m):0),x=isNaN(w.resistance)?d:Number(w.resistance),P=k*x>0?k/x:k/-x,T="function"==typeof t[m]?t[m.indexOf("set")||"function"!=typeof t["get"+m.substr(3)]?m:"get"+m.substr(3)]():t[m]||0,b=T+u(k,_,P,y),void 0!==w.end&&(w=p(w,b,w.max,w.min)),void 0!==w.max&&b>Number(w.max)+s?(O=w.unitFactor||1,N=T>w.max&&w.min!==w.max||k*O>-15&&45>k*O?c+.1*(a-c):l(T,w.max,k,_,y),h>N+f&&(h=N+f)):void 0!==w.min&&b<Number(w.min)-s&&(O=w.unitFactor||1,N=T<w.min&&w.min!==w.max||k*O>-45&&15>k*O?c+.1*(a-c):l(T,w.min,k,_,y),h>N+f&&(h=N+f)),N>v&&(v=N)),P>v&&(v=P));return v>h&&(v=h),v>a?a:c>v?c:v},v=i.prototype=new t("throwProps"),h,g,_,y;return v.constructor=i,i.version="0.9.2",i.API=2,i._autoCSS=!0,i.defaultResistance=100,i.track=function(t,e,r){return n.track(t,e,r)},i.untrack=function(t,e){n.untrack(t,e)},i.isTracking=function(t,e){return n.isTracking(t,e)},i.getVelocity=function(t,e){var r=n.getByTarget(t);return r?r.getVelocity(e):NaN},i._cssRegister=function(){var t=(window.GreenSockGlobals||window).com.greensock.plugins.CSSPlugin;if(t){var e=t._internals,r=e._parseToProxy,o=e._setPluginRatio,s=e.CSSPropTween;e._registerComplexSpecialProp("throwProps",{parser:function(t,e,c,p,u,l){l=new i;var f={},v={},_={},y={},d={},m={},w,P,k,x,T;g={};for(k in e)"resistance"!==k&&"preventOvershoot"!==k&&(P=e[k],"object"==typeof P?(void 0!==P.velocity&&"number"==typeof P.velocity?f[k]=Number(P.velocity)||0:(T=T||n.getByTarget(t),f[k]=T&&T.isTrackingProp(k)?T.getVelocity(k):0),void 0!==P.end&&(y[k]=P.end),void 0!==P.min&&(v[k]=P.min),void 0!==P.max&&(_[k]=P.max),P.preventOvershoot&&(m[k]=!0),void 0!==P.resistance&&(w=!0,d[k]=P.resistance)):"number"==typeof P?f[k]=P:(T=T||n.getByTarget(t),T&&T.isTrackingProp(k)?f[k]=T.getVelocity(k):f[k]=P||0),a[k]&&p._enableTransforms(2===a[k]));x=r(t,f,p,u,l),h=x.proxy,f=x.end;for(k in h)g[k]={velocity:f[k],min:v[k],max:_[k],end:y[k],resistance:d[k],preventOvershoot:m[k]};return null!=e.resistance&&(g.resistance=e.resistance),e.preventOvershoot&&(g.preventOvershoot=!0),u=new s(t,"throwProps",0,0,x.pt,2),u.plugin=l,u.setRatio=o,u.data=x,l._onInitTween(h,g,p._tween),u}})}},i.to=function(t,r,n,i,o){r.throwProps||(r={throwProps:r}),0===o&&(r.throwProps.preventOvershoot=!0);var s=new e(t,1,r);return s.render(0,!0,!0),s.vars.css?(s.duration(f(h,{throwProps:g,ease:r.ease},n,i,o)),s._delay&&!s.vars.immediateRender?s.invalidate():_._onInitTween(h,y,s),s):(s.kill(),new e(t,f(t,r,n,i,o),r))},v._onInitTween=function(t,e,r){this.target=t,this._props=[],_=this,y=e;var i=r._ease,o=isNaN(e.checkpoint)?.05:Number(e.checkpoint),s=r._duration,a=e.preventOvershoot,c=0,l,f,v,h,g,d,m,w,P;for(l in e)if("resistance"!==l&&"checkpoint"!==l&&"preventOvershoot"!==l){if(f=e[l],"number"==typeof f)g=Number(f)||0;else if("object"!=typeof f||isNaN(f.velocity)){if(P=P||n.getByTarget(t),!P||!P.isTrackingProp(l))throw"ERROR: No velocity was defined in the throwProps tween of "+t+" property: "+l;g=P.getVelocity(l)}else g=Number(f.velocity);d=u(g,i,s,o),w=0,h="function"==typeof t[l],v=h?t[l.indexOf("set")||"function"!=typeof t["get"+l.substr(3)]?l:"get"+l.substr(3)]():t[l],"object"==typeof f&&(m=v+d,void 0!==f.end&&(f=p(f,m,f.max,f.min)),void 0!==f.max&&Number(f.max)<m?a||f.preventOvershoot?d=f.max-v:w=f.max-v-d:void 0!==f.min&&Number(f.min)>m&&(a||f.preventOvershoot?d=f.min-v:w=f.min-v-d)),this._props[c++]={p:l,s:v,c1:d,c2:w,f:h,r:!1},this._overwriteProps[c]=l}return!0},v._kill=function(e){for(var r=this._props.length;--r>-1;)null!=e[this._props[r].p]&&this._props.splice(r,1);return t.prototype._kill.call(this,e)},v._roundProps=function(t,e){for(var r=this._props,n=r.length;--n>-1;)(t[r[n]]||t.throwProps)&&(r[n].r=e)},v.setRatio=function(t){for(var e=this._props.length,r,n;--e>-1;)r=this._props[e],n=r.s+r.c1*t+r.c2*t*t,r.r&&(n=n+(n>0?.5:-.5)|0),r.f?this.target[r.p](n):this.target[r.p]=n},t.activate([i]),i},!0),window._gsDefine("utils.VelocityTracker",["TweenLite"],function(t){var e,r,n,i,o=/([A-Z])/g,s={},a={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1},c=document.defaultView?document.defaultView.getComputedStyle:function(){},p=function(t,e,r){var n=(t._gsTransform||s)[e];return n||0===n?n:(t.style[e]?n=t.style[e]:(r=r||c(t,null))?(t=r.getPropertyValue(e.replace(o,"-$1").toLowerCase()),n=t||r.length?t:r[e]):t.currentStyle&&(r=t.currentStyle,n=r[e]),parseFloat(n)||0)},u=t.ticker,l=function(t,e,r){this.p=t,this.f=e,this.v1=this.v2=0,this.t1=this.t2=u.time,this.css=!1,this.type="",this._prev=null,r&&(this._next=r,r._prev=this)},f=function(){var t=e,r=u.time,o,s;if(r-n>=.03)for(i=n,n=r;t;){for(s=t._firstVP;s;)o=s.css?p(t.target,s.p):s.f?t.target[s.p]():t.target[s.p],(o!==s.v1||r-s.t1>.15)&&(s.v2=s.v1,s.v1=o,s.t2=s.t1,s.t1=r),s=s._next;t=t._next}},v=function(t){this._lookup={},this.target=t,this.elem=t.style&&t.nodeType?!0:!1,r||(u.addEventListener("tick",f,null,!1,-100),n=i=u.time,r=!0),e&&(this._next=e,e._prev=this),e=this},h=v.getByTarget=function(t){for(var r=e;r;){if(r.target===t)return r;r=r._next}},g=v.prototype;return g.addProp=function(e,r){if(!this._lookup[e]){var n=this.target,i="function"==typeof n[e],o=i?this._altProp(e):e,s=this._firstVP;this._firstVP=this._lookup[e]=this._lookup[o]=s=new l(o!==e&&0===e.indexOf("set")?o:e,i,s),s.css=this.elem&&(void 0!==this.target.style[s.p]||a[s.p]),s.css&&a[s.p]&&!n._gsTransform&&t.set(n,{x:"+=0"}),s.type=r||s.css&&0===e.indexOf("rotation")?"deg":"",s.v1=s.v2=s.css?p(n,s.p):i?n[s.p]():n[s.p]}},g.removeProp=function(t){var e=this._lookup[t];e&&(e._prev?e._prev._next=e._next:e===this._firstVP&&(this._firstVP=e._next),e._next&&(e._next._prev=e._prev),this._lookup[t]=0,e.f&&(this._lookup[this._altProp(t)]=0))},g.isTrackingProp=function(t){return this._lookup[t]instanceof l},g.getVelocity=function(t){var e=this._lookup[t],r=this.target,n,i,o;if(!e)throw"The velocity of "+t+" is not being tracked.";return n=e.css?p(r,e.p):e.f?r[e.p]():r[e.p],i=n-e.v2,("rad"===e.type||"deg"===e.type)&&(o="rad"===e.type?2*Math.PI:360,i%=o,i!==i%(o/2)&&(i=0>i?i+o:i-o)),i/(u.time-e.t2)},g._altProp=function(t){var e=t.substr(0,3),r=("get"===e?"set":"set"===e?"get":e)+t.substr(3);return"function"==typeof this.target[r]?r:t},v.getByTarget=function(r){var n=e;for("string"==typeof r&&(r=t.selector(r)),r.length&&r!==window&&r[0]&&r[0].style&&!r.nodeType&&(r=r[0]);n;){if(n.target===r)return n;n=n._next}},v.track=function(t,e,r){var n=h(t),i=e.split(","),o=i.length;for(r=(r||"").split(","),n||(n=new v(t));--o>-1;)n.addProp(i[o],r[o]||r[0]);return n},v.untrack=function(t,r){var n=h(t),i=(r||"").split(","),o=i.length;if(n){for(;--o>-1;)n.removeProp(i[o]);n._firstVP&&r||(n._prev?n._prev._next=n._next:n===e&&(e=n._next),n._next&&(n._next._prev=n._prev))}},v.isTracking=function(t,e){var r=h(t);return r?!e&&r._firstVP?!0:r.isTrackingProp(e):!1},v},!0)}),window._gsDefine&&window._gsQueue.pop()();